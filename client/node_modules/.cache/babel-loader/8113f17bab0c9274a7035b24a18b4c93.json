{"ast":null,"code":"var _jsxFileName = \"/Users/ossian/Git/myHomePage/client/src/components/wineOrganizer/wineIndex.js\";\nimport React, { useEffect, useState } from 'react';\nimport './wine.css';\nimport WineGrid from './components/wineGrid/WineGrid';\nimport AddWine from './components/addWine/AddWine';\n\nconst wineIndex = () => {\n  // const [cardArr, setCardArr] = useState();\n  // const [title, setTitle] = useState(null);\n  // const [displayForm, setDisplayForm] = useState('none');\n  // const [position, setPosition] = useState(null);\n  // const [updateOnPost, setUpdateOnPost] = useState(false)\n  const getBackend = async () => {\n    const title = await fetch('http://localhost:5000').then(res => res.json());\n    setTitle(title);\n  };\n\n  const getWines = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/wines', {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const resData = await response.json();\n      const wineArr = resData.wineArr;\n      setCardArr(wineArr);\n    } catch (err) {\n      console.error(err, 'getWines error');\n    }\n  };\n\n  useEffect(() => {\n    getBackend();\n    getWines();\n    console.log('updated!');\n  }, [title, updateOnPost]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wineIndex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, title), /*#__PURE__*/React.createElement(AddWine, {\n    setCardArr: setCardArr,\n    setDisplayForm: setDisplayForm,\n    displayForm: displayForm,\n    position: position,\n    updateOnPost: updateOnPost,\n    setUpdateOnPost: setUpdateOnPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(WineGrid, {\n    cardArr: cardArr,\n    setCardArr: setCardArr,\n    setDisplayForm: setDisplayForm,\n    displayForm: displayForm,\n    setPosition: setPosition,\n    updateOnPost: updateOnPost,\n    setUpdateOnPost: setUpdateOnPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default wineIndex;","map":{"version":3,"sources":["/Users/ossian/Git/myHomePage/client/src/components/wineOrganizer/wineIndex.js"],"names":["React","useEffect","useState","WineGrid","AddWine","wineIndex","getBackend","title","fetch","then","res","json","setTitle","getWines","response","headers","resData","wineArr","setCardArr","err","console","error","log","updateOnPost","setDisplayForm","displayForm","position","setUpdateOnPost","cardArr","setPosition"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,YAAP;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,OAAP,MAAoB,8BAApB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACtB;AACA;AACA;AACA;AACA;AAGA,QAAMC,UAAU,GAAG,YAAY;AAC7B,UAAMC,KAAK,GAAG,MAAMC,KAAK,CAAC,uBAAD,CAAL,CACjBC,IADiB,CACZC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADK,CAApB;AAEAC,IAAAA,QAAQ,CAACL,KAAD,CAAR;AACD,GAJD;;AAMA,QAAMM,QAAQ,GAAG,YAAY;AAC3B,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMN,KAAK,CAAC,6BAAD,EAAgC;AAC1DO,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB;AADiD,OAAhC,CAA5B;AAGA,YAAMC,OAAO,GAAG,MAAMF,QAAQ,CAACH,IAAT,EAAtB;AACA,YAAMM,OAAO,GAAGD,OAAO,CAACC,OAAxB;AACAC,MAAAA,UAAU,CAACD,OAAD,CAAV;AACD,KAPD,CAOE,OAAOE,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd,EAAmB,gBAAnB;AACD;AACF,GAXD;;AAaAlB,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,UAAU;AACVO,IAAAA,QAAQ;AACRO,IAAAA,OAAO,CAACE,GAAR,CAAY,UAAZ;AACD,GAJQ,EAIN,CAACf,KAAD,EAAQgB,YAAR,CAJM,CAAT;AAMA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBhB,KAAxB,CADF,eAEE,oBAAC,OAAD;AACE,IAAA,UAAU,EAAEW,UADd;AAEE,IAAA,cAAc,EAAEM,cAFlB;AAGE,IAAA,WAAW,EAAEC,WAHf;AAIE,IAAA,QAAQ,EAAEC,QAJZ;AAKE,IAAA,YAAY,EAAEH,YALhB;AAME,IAAA,eAAe,EAAEI,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAUE,oBAAC,QAAD;AACE,IAAA,OAAO,EAAEC,OADX;AAEE,IAAA,UAAU,EAAEV,UAFd;AAGE,IAAA,cAAc,EAAEM,cAHlB;AAIE,IAAA,WAAW,EAAEC,WAJf;AAKE,IAAA,WAAW,EAAEI,WALf;AAME,IAAA,YAAY,EAAEN,YANhB;AAOE,IAAA,eAAe,EAAEI,eAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF;AAsBD,CAvDD;;AAyDA,eAAetB,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './wine.css';\nimport WineGrid from './components/wineGrid/WineGrid';\nimport AddWine from './components/addWine/AddWine';\n\nconst wineIndex = () => {\n  // const [cardArr, setCardArr] = useState();\n  // const [title, setTitle] = useState(null);\n  // const [displayForm, setDisplayForm] = useState('none');\n  // const [position, setPosition] = useState(null);\n  // const [updateOnPost, setUpdateOnPost] = useState(false)\n\n\n  const getBackend = async () => {\n    const title = await fetch('http://localhost:5000')\n      .then(res => res.json());\n    setTitle(title);\n  }\n\n  const getWines = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/wines', {\n        headers: { 'Content-Type': 'application/json' },\n      });\n      const resData = await response.json();\n      const wineArr = resData.wineArr;\n      setCardArr(wineArr);\n    } catch (err) {\n      console.error(err, 'getWines error')\n    }\n  }\n\n  useEffect(() => {\n    getBackend();\n    getWines();\n    console.log('updated!')\n  }, [title, updateOnPost]);\n\n  return (\n    <div className=\"wineIndex\">\n      <h1 className=\"header\">{title}</h1>\n      <AddWine\n        setCardArr={setCardArr}\n        setDisplayForm={setDisplayForm}\n        displayForm={displayForm}\n        position={position}\n        updateOnPost={updateOnPost}\n        setUpdateOnPost={setUpdateOnPost}\n      />\n      <WineGrid\n        cardArr={cardArr}\n        setCardArr={setCardArr}\n        setDisplayForm={setDisplayForm}\n        displayForm={displayForm}\n        setPosition={setPosition}\n        updateOnPost={updateOnPost}\n        setUpdateOnPost={setUpdateOnPost}\n      />\n    </div>\n  );\n}\n\nexport default wineIndex;\n"]},"metadata":{},"sourceType":"module"}